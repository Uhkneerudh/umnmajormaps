<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="2730" height="1500"
style="border:1px solid #c3c3c3;">
</canvas>

<script>


const rWidth = 250;
const rHeight = 125;
var totalCols = 0;
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
var numLines = 1;
var first = [];
var second = [];
var third = [];
var fourth = [];
var fifth = [];
var sixth = [];
var seventh = [];
var eigth = [];
var allClasses = [first,second,third,fourth,fifth,sixth,seventh,eigth];

class Class {
  constructor(department, name, number, prerequisites) {
    this.department = department;
    this.name = name;
    this.number = number;
    this.prerequisites = prerequisites;
  }
}
//Parsed data from python Program
var csciCourses = ['CSCI 1103 -- Intro to Java', 'CSCI 1113 -- Intro to C/C++', 'CSCI 1115 --  Exploring CSCI: C++', 'CSCI 1133 -- Intro to Programming Concepts', 'CSCI 1133H -- Honors Intro to Progr Concepts', 'CSCI 1135 -- Exploring CSCI: Python', 'CSCI 1913 -- Intro to Algs. & Program Dev.', 'CSCI 1933 -- Intro Algs & Data Str.', 'CSCI 2011 -- Disc. Structures', 'CSCI 2021 -- Machine Architecture and Org', 'CSCI 2033 -- Elem Comput Linear Algebra', 'CSCI 2041 -- Adv. Programming Principles', 'CSCI 2081 -- Intro. Software Development', 'CSCI 3003 -- Intro to Computing in Biology', 'CSCI 3041 -- Intro Disc. Struct/Algorithms', 'CSCI 3061 -- Intro to Computer Systems', 'CSCI 3081W -- Program Design & Development', 'CSCI 3921W -- Issues in Computing', 'CSCI 3970 -- Indust Co-op', 'CSCI 4011 -- Form Lang & Autom.', 'CSCI 4041 -- Algs. & Data Str.', 'CSCI 4061 -- Intro to Operating Systems', 'CSCI 4131 -- Internet Programming', 'CSCI 4203 -- Comp. Architecture', 'CSCI 4211 -- Intro to Computer Networks', 'CSCI 4271W -- Dev. Secure Software Sys.', 'CSCI 4511W -- Intro: Artificial Intelligence', 'CSCI 4611 -- Programming Graphics and Games', 'CSCI 4707 -- Practice of DB Systems', 'CSCI 4921 -- Hist of Computing', 'CSCI 4950 -- Senior Software Project', 'CSCI 4970W -- Adv. Project', 'CSCI 5103 -- Oper. Systems', 'CSCI 5106 -- Prog. Languages', 'CSCI 5115 -- User Interface Dsgn', 'CSCI 5123 -- Recommender Systems', 'CSCI 5204 -- Adv Comp Arch', 'CSCI 5211 -- Data Comm & Computer Networks', 'CSCI 5271 -- Intro to Computer Security', 'CSCI 5304 -- Matrix Theory', 'CSCI 5421 -- Adv. Algs. & Data', 'CSCI 5451 -- Intro Parall Comput', 'CSCI 5465 -- Intro to Comput for Biologists', 'CSCI 5481 -- Computational Techs. Genomics', 'CSCI 5511 -- Artific Intellig I', 'CSCI 5512 -- Artif Intelligence II', 'CSCI 5521 -- Machine Learning Fundamentals', 'CSCI 5523 -- Introduction to Data Mining', 'CSCI 5525 -- Advanced Machine Learning', 'CSCI 5551 -- Robotics', 'CSCI 5561 -- Computer Vision', 'CSCI 5611 -- Animation & Planning in Games', 'CSCI 5619 -- VR and 3D Interaction', 'CSCI 5707 -- Principles of DB Systems', 'CSCI 5715 -- Spatial Data Science', 'CSCI 5801 -- Software Eng. I', 'CSCI 5991 -- Independent study', 'CSCI 5994 -- Directed Research', 'CSCI 5996 -- Curr Practical Training', 'CSCI 5997 -- Curr Practical Training Ex', 'CSCI 8001 -- Intro to Research in CS, I', "CSCI 8333 -- FTE: Master's", 'CSCI 8444 -- FTE: Doctoral', 'CSCI 8551 -- Intell. Agents', 'CSCI 8666 -- Doct Pre-Thesis Cr*', 'CSCI 8760 -- Plan B Project', 'CSCI 8777 -- Thesis Credit:Mast*', 'CSCI 8888 -- Thesis Credit:Doct*', 'CSCI 8970 -- CSci colloquium', 'CSCI 8980 -- Spec Adv Topics CS', 'CSCI 8991 -- Independent study', 'CSCI 8994 -- Dir Rsrch in CSci'];
var chemCourses = ['CHEM 1015 -- Intro Chem: Lecture', 'CHEM 1017 -- INTRO CHEM: LAB', 'CHEM 1061 -- Chem Prin I', 'CHEM 1062 -- Chem Prin II', 'CHEM 1065 -- Chem Prin I Lab', 'CHEM 1066 -- Chem Prin II Lab', 'CHEM 1071H -- Honors Chem I', 'CHEM 1075H -- Honors Chem I Lab', 'CHEM 1081 -- Chemistry for Life Sciences I', 'CHEM 1901 -- TED Talks', 'CHEM 1903 -- Chemistry in the Kitchen', 'CHEM 1913 -- The Art in Science', 'CHEM 2081 -- Chemistry for Life Science III', 'CHEM 2085 -- Chem for Life Sci III Lab', 'CHEM 2094 -- Dir Research', 'CHEM 2301 -- Organic Chemistry I', 'CHEM 2302 -- Org Chem II', 'CHEM 2311 -- Organic Lab', 'CHEM 2312H -- Hon Organic Lab', 'CHEM 2331H -- Honors Elem Org Chem I', 'CHEM 3101 -- Intro Analytical Chemistry', 'CHEM 3111 -- Intro Anal Chem Lab', 'CHEM 4001 -- Biomass Chemistry & Conversion', 'CHEM 4011 -- Mech of Chem React', 'CHEM 4094W -- Directed Research', 'CHEM 4201 -- Materials Chem', 'CHEM 4221 -- Intro Poly Chem', 'CHEM 4301 -- Applied Surface & Colloid Sci', 'CHEM 4311W -- Adv Org Chem Lab', 'CHEM 4321 -- Organic Synthesis', 'CHEM 4361 -- Interp of Org Spec', 'CHEM 4411 -- Intro Chem Biology', 'CHEM 4423W -- Foundations of Chem Bio Lab', 'CHEM 4501 -- Intro to Thermo, Kin, Stat Mec', 'CHEM 4502 -- Intro to Quantum, Spectroscopy', 'CHEM 4511W -- Adv Phys Chem Lab', 'CHEM 4701 -- Inorg Chem', 'CHEM 4715 -- Phys Inorg Chem', 'CHEM 4725 -- Organomet Chem', 'CHEM 4894 -- Directed Thesis', 'CHEM 8011 -- Mech of Chem React', 'CHEM 8081 -- MS Plan B Proj. I', 'CHEM 8082 -- MS Plan B Proj. II', 'CHEM 8151 -- Analy Sep & Chem Equil', 'CHEM 8152 -- Anal Spec', 'CHEM 8201 -- Materials Chem', 'CHEM 8221 -- Synthetic Polymer Chemistry', 'CHEM 8321 -- Organic Synthesis', "CHEM 8333 -- FTE: Master's", 'CHEM 8361 -- Interp of Org Spec', 'CHEM 8411 -- Intro to Chem Biology', 'CHEM 8444 -- FTE: Doctoral', 'CHEM 8541 -- Dynamics', 'CHEM 8551 -- Quantum Mechanics I', 'CHEM 8561 -- Thermo,Stat Mech,Rxn Dynam I', 'CHEM 8601 -- Seminar', 'CHEM 8602 -- Seminar Pres.', 'CHEM 8666 -- Doct Pre-Thesis Cr*', 'CHEM 8715 -- Phys Inorg Chem', 'CHEM 8725 -- Organomet Chem', 'CHEM 8777 -- Thesis Credit:Mast*', 'CHEM 8888 -- Thesis Credit:Doct*']
var polCourses = ['POL 1001 -- Amer Govt & Politics', 'POL 1019 -- Indigenous Peoples Global Pers', 'POL 1025 -- Global Politics', 'POL 1026 -- U.S. Foreign Policy', 'POL 1054 -- Politics Around the World', 'POL 1201 -- Political Ideas', 'POL 1911 -- Dictatorships in Central Asia', 'POL 3080 -- Internship in Politics or Govt', 'POL 3085 -- Quant. Political Analysis', 'POL 3225 -- American Political Thought', 'POL 3235W -- Democracy & Citizen', 'POL 3252W -- Modern Political Thought', 'POL 3306 -- Presidential Leadership', 'POL 3308 -- Congress Pol & Inst', 'POL 3310 -- Topics in US Politics', 'POL 3310H -- Topics in American Politics', 'POL 3423 -- Politics of Disruption', 'POL 3431 -- Politics of India', 'POL 3451W -- Politics/Soc in New Europe', 'POL 3464 -- Politics Economic Inequality', 'POL 3477 -- Political Economy of Dvlpmnt', 'POL 3479 -- Latin American Politics', 'POL 3489W -- Citizens, Consumers & Corps', 'POL 3767 -- PolPsy of Elite Behavior', 'POL 3769 -- Public Opinion & Voting Behav', 'POL 3786 -- Media and Politics', "POL 3810 -- Int'l Relations/Foreign Policy", 'POL 3833 -- U.S. & the Global Economy', 'POL 3835 -- International Relations', 'POL 3994 -- Distinguished Research Program', 'POL 4255 -- Marxist vs NonMarxist Analysis', 'POL 4267 -- Imperialism & Mod Pol Thought', 'POL 4478W -- Contemporary African Politics', 'POL 4487 -- The Struggle for Democracy', 'POL 4771 -- Race and Politics in America', 'POL 4773W -- Advocacy Orgs & Social Mvmts', 'POL 4810 -- Topics: International Politics', 'POL 4881W -- Intl Law & Global Governance', 'POL 4891 -- Politics of Nuclear Weapons', 'POL 4991 -- Political Science Capstone', 'POL 4993 -- Honors Thesis', 'POL 4994 -- Directed Research: Individual', 'POL 5970 -- Individual Reading/Research', 'POL 8060 -- Research Prosem in Pol Sci', 'POL 8105 -- Professional Development II', 'POL 8108 -- Maximum Likelihood Estimation', 'POL 8124 -- Game Theory', 'POL 8252 -- Early Modern Pol Th', 'POL 8360 -- Topics in American Politics', 'POL 8401 -- International Relat', 'POL 8444 -- FTE: Doctoral', 'POL 8601 -- Comparative Pol', 'POL 8660 -- Topics in Comparative Politics', 'POL 8666 -- Doct Pre-Thesis Cr', 'POL 8888 -- Thesis Credit:Doct*', 'POL 8990 -- Directed Research']


for(var i = 0; i < polCourses.length; i++) {
  let course = polCourses[i];
  let name = polCourses[i].split(" -- ")[0];
  let description = polCourses[i].split(" -- ")[1];
  let number = removeLetters(name);
  var index = (Math.floor(number/1000)) - 1;
  let c = new Class("POL",description,number,["CSCI 1913"]);
  (allClasses[index]).push(c);

}

allClasses = fixArray();
calcWidth();
calcHeight();
drawClasses();

function fixArray() {
  newClasses = [];
  for(var i = 0; i < allClasses.length; i++) {
    if(allClasses[i].length > 0 && allClasses[i].length <= 9) {
      newClasses.push(allClasses[i]);
    }
    if(allClasses[i].length > 9) {
      var startIndex = 0;
      var length = allClasses[i].length;
      numNewArrays = Math.ceil(length/9);
      numToRemove = Math.round(length/numNewArrays);
      while(true) {
        if(length - numToRemove > 1) {
            newClasses.push(allClasses[i].slice(startIndex,startIndex+numToRemove));
            length -= numToRemove;
            startIndex += numToRemove;
        } else {
          newClasses.push(allClasses[i].slice(startIndex));
          break;
        }
      }
    }
  }
  return newClasses;
}

function drawClasses() {
  var names = ["1000s","2000s","3000s","4000s","5000s","6000s","7000s","8000s"]
  var colors = ["#FF6600","#FFA500","#FFFF00","#00FF00","#00CFF6","#4B0082","#EE82EE","#23FEF6"]
  var startX = 150+rWidth/2;
  var startY = 75 + rHeight/2;
  var heightOffset = 0;
  var start = 275+rHeight/2;
  for(var i = 0; i < allClasses.length; i++) {

    if(allClasses[i].length > 0 && allClasses[i].length <= 9) {
      for(var j = 0; j < allClasses[i].length; j++) {
        heightOffset = (rHeight/2*(j))+150*j;

        drawRect(rWidth+9, rHeight+9, "#000000", (150+rWidth/2) + ((rWidth/2 * (i*2)) + (200*i)), start + heightOffset);
        drawRect(rWidth, rHeight, "#FFFFFF", (150+rWidth/2) + ((rWidth/2 * (i*2)) + (200*i)), start + heightOffset);

        var index = Math.floor(allClasses[i][j].number/1000) - 1;
        drawRect(rWidth+9, 86, "#000000", (150+rWidth/2) + ((rWidth/2 * (i*2)) + (200*i)), 175);
        drawRect(rWidth, 75, colors[index], (150+rWidth/2) + ((rWidth/2 * (i*2)) + (200*i)), 175);
        drawText(names[index],"30px Arial",(150+rWidth/2) + ((rWidth/2 * (i*2)) + (200*i)), 185,"000000", 30);

        drawText(allClasses[i][j].name,"25px Arial",(150+rWidth/2) + ((rWidth/2 * (i*2)) + (200*i)), start + heightOffset-(30),"000000", 30);
        drawText((allClasses[i][j].department + " " + String(allClasses[i][j].number)),"25px Arial",(150+rWidth/2) + ((rWidth/2 * (i*2)) + (200*i)),start + heightOffset - numLines*15 + (numLines*30)+5,"000000", rWidth - 2);
        numLines = 1;

    }
  }
  }
}


function calcWidth() {
  for(var i = 0; i < allClasses.length; i++) {
    if(allClasses[i].length > 9) {
      totalCols += Math.ceil(allClasses[i].length/9);
    } else if(allClasses[i].length > 0) { totalCols++; }
  }
  canvas.width = 250*totalCols + 200*(totalCols+1) - 75;
}

function calcHeight() {
    var max = 0;
    for(var i = 0; i < allClasses.length; i++) {
      if(allClasses[i].length > max) {
        max = allClasses[i].length;
      }

    }
    if(max > 9) {
      max = 9;
    }
    canvas.height = ((max+2)*75+max*125) + 200;
}

function removeLetters(num) {
  const numbers = ['0','1','2','3','4','5','6','7','8','9'];
  let newString = "";
  for(var i = 0; i < num.length; i++) {
    var c = num.charAt(i);
    if(numbers.indexOf(c) != -1) {
        newString += c;
    }
  }
  return parseInt(newString);
}

function drawRect(width, height, color, x, y) {
  ctx.fillStyle = color;
  ctx.fillRect(x-width/2,y-height/2,width,height);
}

function drawText(text, font, x, y, color, fontSize) {
  ctx.fillStyle = "#000000";
  var width = textWidth(text,font);
  var split = text.split(" ");
  var newText = "";
  var strings = [];
  var heightOffset = fontSize;

  for(var i = 0; i < split.length; i++) {
    if((textWidth(newText+split[i],font)) > (rWidth-5)) {
      strings.push(newText);
      newText = "";
      numLines++;
    }
    newText += split[i] + " ";

  }
  newText = newText.substring(0,newText.length-1);
  strings.push(newText);

  ctx.font = font;
  for(var i = 0; i < strings.length; i++) {
    width = textWidth(strings[i],font);
    ctx.fillText(strings[i], x-(width/2), y+(heightOffset*i));
  }

}

function textWidth(text, font) {
  inputText = text;
  canvas = document.createElement("canvas");
  context = canvas.getContext("2d");
  context.font = font;
  width = context.measureText(inputText).width;
  return width;

}



/*
//top left
drawRect(rWidth, rHeight, "#00FF00", 150+rWidth/2, 75+rHeight/2);

//heights
drawRect(rWidth, rHeight, "#00FF00", 150+rWidth/2, 75+rHeight/2*2+150);
drawRect(rWidth, rHeight, "#00FF00", 150+rWidth/2, 75+rHeight/2*3+300);
drawRect(rWidth, rHeight, "#00FF00", 150+rWidth/2, 75+rHeight/2*4+450);
drawRect(rWidth, rHeight, "#00FF00", 150+rWidth/2, 75+rHeight/2*5+600);
drawRect(rWidth, rHeight, "#00FF00", 150+rWidth/2, 75+rHeight/2*6+750);
drawRect(rWidth, rHeight, "#00FF00", 150+rWidth/2, 75+rHeight/2*7+900);

//widths
drawRect(rWidth, rHeight, "#00FF00", 150+rWidth/2*3+150, 75+rHeight/2);
drawRect(rWidth, rHeight, "#00FF00",  150+rWidth/2*5+300,75+rHeight/2);
drawRect(rWidth, rHeight, "#00FF00",  150+rWidth/2*7+450, 75+rHeight/2);
drawRect(rWidth, rHeight, "#00FF00",  150+rWidth/2*9+600, 75+rHeight/2);
drawRect(rWidth, rHeight, "#00FF00",  150+rWidth/2*11+750, 75+rHeight/2);
*/


//Store all parsed data from python program

</script>

</body>
</html>
